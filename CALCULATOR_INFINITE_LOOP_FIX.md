# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ

## üîç –ü—Ä–æ–±–ª–µ–º–∞

**–û—à–∏–±–∫–∞**: `Warning: Maximum update depth exceeded` –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/calculator`

**–ü—Ä–∏—á–∏–Ω–∞**: –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–∑-–∑–∞ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ `useEffect`

## üìã –¢–æ—á–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞

### –§–∞–π–ª: `src/pages/Calculator.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞**: –§—É–Ω–∫—Ü–∏–∏ `handleCalculationChange`, `handleOptionsChange`, `handleParametersChange` —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –∑–∞–Ω–æ–≤–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `Calculator`.

**–¶–µ–ø–æ—á–∫–∞ —Ü–∏–∫–ª–∞**:
1. `Calculator.tsx` —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è
2. –°–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `handleCalculationChange`, `handleOptionsChange`, `handleParametersChange`
3. –≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ `CalculatorForm` –∫–∞–∫ –ø—Ä–æ–ø—Å—ã
4. –í `CalculatorForm.tsx` —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö `useEffect` (—Å—Ç—Ä–æ–∫–∏ 210, 225, 252)
5. `useEffect` —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, —Ç–∞–∫ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å (–Ω–æ–≤–∞—è —Å—Å—ã–ª–∫–∞)
6. `useEffect` –≤—ã–∑—ã–≤–∞–µ—Ç —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ `Calculator.tsx`
7. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–µ—Ä–µ–Ω–¥–µ—Ä `Calculator.tsx`
8. –í–æ–∑–≤—Ä–∞—Ç –∫ —à–∞–≥—É 2 ‚Üí **–±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª**

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1: `src/pages/Calculator.tsx`

**–î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `useCallback`**:
```typescript
import React, { useState, useEffect, useCallback } from 'react';
```

**–û–±–µ—Ä–Ω—É—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `useCallback`**:
```typescript
// –î–æ:
const handleCalculationChange = (result: CalculationResult, newArea: number) => {
  setCalculationResult(result);
  setArea(newArea);
};

// –ü–æ—Å–ª–µ:
const handleCalculationChange = useCallback((result: CalculationResult, newArea: number) => {
  setCalculationResult(result);
  setArea(newArea);
}, []);
```

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è `handleOptionsChange` –∏ `handleParametersChange`.

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2: `src/components/calculator/CalculatorForm.tsx`

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –ª–∏—à–Ω–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π** –≤ useEffect –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∏ 69-92):
- –ü—Ä–æ–≤–µ—Ä–∫–∞, –Ω—É–∂–Ω–æ –ª–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∏ –ø—É—Å—Ç—ã–µ)
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª–∏—à–Ω–∏–µ –≤—ã–∑–æ–≤—ã `setFormData` –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Ä–µ–Ω–¥–µ—Ä–∞—Ö

## üìù –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **`src/pages/Calculator.tsx`**
   - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `useCallback`
   - –û–±–µ—Ä–Ω—É—Ç—ã `handleCalculationChange`, `handleOptionsChange`, `handleParametersChange` –≤ `useCallback`

2. **`src/components/calculator/CalculatorForm.tsx`**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –ª–∏—à–Ω–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ useEffect –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
npm run dev
# –∏–ª–∏
npm run build && npm run preview
```

### –®–∞–≥–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏:
1. –û—Ç–∫—Ä—ã—Ç—å `/calculator` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12)
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ **–ù–ï–¢** –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è `Maximum update depth exceeded`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–æ—Ä–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç:
   - –í–≤–æ–¥ –ø–ª–æ—â–∞–¥–∏
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ —Ä–µ–∂–∏–º–æ–≤
   - –ß–µ–∫–±–æ–∫—Å—ã –ù–î–°/—Ä–∞—Å—Å—Ä–æ—á–∫–∏
5. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ —Ä–µ–≥—Ä–µ—Å—Å–∏—Ä–æ–≤–∞–ª–∏

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ `useCallback`
- ‚úÖ `useEffect` –≤ `CalculatorForm` –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
- ‚úÖ –ù–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –≤ –∫–æ–Ω—Å–æ–ª–∏
- ‚úÖ –§–æ—Ä–º–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

**–ü–æ—á–µ–º—É `useCallback` —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É**:
- `useCallback` –º–µ–º–æ–∏–∑–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç—É –∂–µ —Å—Å—ã–ª–∫—É –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
- –ï—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `useCallback` –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å, —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç—Å—è
- `useEffect` –≤ `CalculatorForm` –≤–∏–¥–∏—Ç —Ç—É –∂–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –∏ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ

**–ü–æ—á–µ–º—É –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π `[]`**:
- –§—É–Ω–∫—Ü–∏–∏ `handleCalculationChange`, `handleOptionsChange`, `handleParametersChange` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ–ª—å–∫–æ `setState`
- `setState` –∏–∑ React —Å—Ç–∞–±–∏–ª–µ–Ω –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –§—É–Ω–∫—Ü–∏–∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –¥—Ä—É–≥–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –ø–æ—ç—Ç–æ–º—É –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—É—Å—Ç–æ–π
